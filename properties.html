<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dark Pearl Real Estate - properties</title>
    <link rel="icon" href="assets/images/logo.png" type="image/png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;600;700&family=DM+Serif+Display&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="properties.css">
    <link rel="stylesheet" href="animations.css">
</head>

<body>
    <header class="site-header">
        <div class="container header-container">
            <div class="logo">
                <a href="home.html">
                    <img src="assets/images/logo.png" alt="Dark Pearl Real Estate">
                </a>
            </div>
            <button class="mobile-menu-toggle" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <nav class="main-nav">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li class="has-dropdown">
                        <a href="properties.html" class="active">Properties <span class="mobile-toggle">›</span></a>
                        <ul class="dropdown-menu">
                            <li><a href="properties.html?type=Villas">Villas</a></li>
                            <li><a href="properties.html?type=Apartments">Apartments</a></li>
                            <li><a href="properties.html?type=Townhouses">Townhouses</a></li>
                        </ul>
                    </li>
                    <li><a href="developers.html">Developers</a></li>
                    <li><a href="about.html">About Us</a></li>
                    <li><a href="agents.html">Our Agents</a></li>
                    <li><a href="contact.html">Contact Us</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section class="hero-section"
        style="background-image: url('https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?q=80&w=2070&auto=format&fit=crop');">
        <div class="hero-overlay"></div>
        <div class="container hero-content">
            <h1>Properties</h1>
            <div class="breadcrumbs">
                <span>Dark Pearl Real Estate</span> <span class="separator">&gt;</span> <span
                    class="current">Properties</span>
            </div>
        </div>
    </section>

    <section class="filter-section">
        <div class="container">
            <div class="filter-bar">
                <div class="filter-field">
                    <label class="filter-label">Developer</label>
                    <select id="filter-developer">
                        <option value="Any">Any</option>
                        <option>Arada</option>
                        <option>Azizi</option>
                        <option>Danube</option>
                        <option>Nakheel</option>
                        <option>Binghatti</option>
                        <option>Omniyat</option>
                        <option>Dubai Properties</option>
                        <option>Select Group</option>
                        <option>Sobha Realty</option>
                        <option>Meraas</option>
                        <option>DAMAC</option>
                        <option>Emaar</option>
                    </select>
                </div>
                <div class="filter-field">
                    <label class="filter-label">Project Type</label>
                    <select id="filter-type">
                        <option value="Any">Any</option>
                        <option>Villas</option>
                        <option>Apartments</option>
                        <option>Townhouses</option>
                    </select>
                </div>
                <div class="filter-field">
                    <label class="filter-label">Location</label>
                    <select id="filter-location">
                        <option value="Any">Any</option>
                        <option>Al Suyoh Suburb</option>
                        <option>Jumeirah Golf Estates</option>
                        <option>Palm Jumeirah</option>
                        <option>Nad Al Sheba 1</option>
                        <option>Dubai Studio City</option>
                        <option>Dubai South</option>
                        <option>Business Bay</option>
                        <option>Arjan</option>
                        <option>Jumeirah Village Circle</option>
                        <option>International City</option>
                        <option>Jumeirah Lake Towers</option>
                        <option>Jumeirah Village Triangle</option>
                        <option>Dubai Maritime City</option>
                        <option>Dubai Islands</option>
                        <option>Palm Jebel Ali</option>
                        <option>District One</option>
                        <option>Maritime City</option>
                        <option>Jumeirah Beach Residence</option>
                        <option>Villanova</option>
                        <option>Madinat Jumeirah Living</option>
                        <option>Mudon</option>
                        <option>Mirdif</option>
                        <option>Wadi Al Safa</option>
                        <option>MBR City</option>
                        <option>Dubai Marina</option>
                        <option>Sobha Hartland 2</option>
                        <option>Dubai Design District</option>
                        <option>Madinat Jumeirah</option>
                        <option>Nad Al She</option>
                        <option>City Walk</option>
                        <option>Dubailand</option>
                        <option>Downtown Dubai</option>
                        <option>DAMAC Hills</option>
                        <option>DAMAC Hills 2</option>
                        <option>Al Sufouh</option>
                        <option>Rashid Yachts & Marina</option>
                        <option>The Valley</option>
                        <option>Dubai Hills Estate</option>
                        <option>Emirates Hills</option>
                    </select>
                </div>
                <div class="filter-field">
                    <label class="filter-label">Budget</label>
                    <select id="filter-budget">
                        <option value="Any">Any</option>
                        <option>AED0 - AED190000000.1</option>
                        <option>AED190000000.1 - AED380000000.2</option>
                        <option>AED380000000.2 - AED570000000.3</option>
                        <option>AED570000000.3 - AED760000000.4</option>
                        <option>AED760000000.4 - AED950000000.5</option>
                        <option>AED950000000.5 - AED1140000000.6</option>
                        <option>AED1140000000.6 - AED1330000000.7</option>
                        <option>AED1330000000.7 - AED1520000000.8</option>
                        <option>AED1520000000.8 - AED1710000000.9</option>
                        <option>AED1710000000.9 - AED1900000001</option>
                    </select>
                </div>
                <div class="filter-btn-wrapper">
                    <button class="btn-filter" id="btn-search">SEARCH</button>
                </div>
            </div>
            <div class="filter-separator"></div>
        </div>
    </section>

    <section class="properties-section">
        <div class="container">
            <div class="properties-grid">

            </div>

            <div class="load-more-container" style="text-align: center; margin-top: 40px; margin-bottom: 40px;">

                <button id="loadMoreBtn" class="btn btn-outline-small" style="padding: 12px 30px; cursor: pointer;">View
                    More Projects</button>
            </div>
        </div>
    </section>

    <script src="assets/js/projects-data.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const grid = document.querySelector('.properties-grid');
            const loadMoreBtn = document.getElementById('loadMoreBtn');
            const searchBtn = document.getElementById('btn-search');

            const projectsWithIds = projectsData;

            let currentFilteredData = projectsWithIds;
            const itemsPerPage = 6;
            let visibleCount = 6;

            function renderGrid() {
                grid.innerHTML = '';
                const count = Math.min(visibleCount, currentFilteredData.length);

                if (count === 0) {
                    grid.innerHTML = '<p style="text-align:center; width:100%; grid-column: 1/-1;">No properties found matching your criteria.</p>';
                    loadMoreBtn.style.display = 'none';
                    return;
                }

                for (let i = 0; i < count; i++) {
                    const data = currentFilteredData[i];
                    const imgPath = `assets/images/projects/${data.originalIndex}.png`;

                    const link = `property-details.html?id=${data.id}`;

                    const card = document.createElement('a');
                    card.href = link;
                    card.className = 'property-card';
                    card.style.display = 'block';
                    card.style.opacity = '1';
                    card.style.textDecoration = 'none';
                    card.style.color = 'inherit';

                    card.innerHTML = `
        <div class="property-img">
            <img src="${imgPath}" alt="${data.title}" onerror="this.onerror=null; this.src='assets/images/logo.png'">
        </div>
        <div class="property-details">
            <h3>${data.title}</h3>
            <p class="location">${data.location}</p>
            <div class="property-specs">
                <div class="spec-item">
                    <span class="label">Developer</span>
                    <span class="value">${data.developer}</span>
                </div>
                <div class="spec-item">
                    <span class="label">Area</span>
                    <span class="value">${data.area}</span>
                </div>
                <div class="spec-item">
                    <span class="label">Type</span>
                    <span class="value">${data.type}</span>
                </div>
            </div>
        </div>
                     `;
                    grid.appendChild(card);
                }

                if (visibleCount >= currentFilteredData.length) {
                    loadMoreBtn.style.display = 'none';
                } else {
                    loadMoreBtn.style.display = 'inline-block';
                }
            }

            const urlParams = new URLSearchParams(window.location.search);
            const typeParam = urlParams.get('type');
            const developerParam = urlParams.get('developer');

            if (typeParam) {
                const typeSelect = document.getElementById('filter-type');
                if (typeSelect) {
                    let options = Array.from(typeSelect.options);
                    let match = options.find(opt => opt.value === typeParam || opt.text === typeParam);
                    if (match) {
                        typeSelect.value = match.value;
                    }
                }
            }

            if (developerParam) {
                const devSelect = document.getElementById('filter-developer');
                if (devSelect) {
                    let options = Array.from(devSelect.options);
                    let match = options.find(opt => opt.value === developerParam || opt.text === developerParam);
                    if (match) {
                        devSelect.value = match.value;
                    }
                }
            }

            if (typeParam || developerParam) {
                const dev = document.getElementById('filter-developer').value;
                const type = document.getElementById('filter-type').value;
                const loc = document.getElementById('filter-location').value;

                currentFilteredData = projectsWithIds.filter(item => {
                    const matchDev = dev === 'Any' || item.developer === dev;
                    const matchType = type === 'Any' || item.type === type;
                    const matchLoc = loc === 'Any' || item.location === loc;
                    return matchDev && matchType && matchLoc;
                });
                visibleCount = itemsPerPage;
                renderGrid();
            } else {
                renderGrid();
            }

            searchBtn.addEventListener('click', function () {
                const dev = document.getElementById('filter-developer').value;
                const type = document.getElementById('filter-type').value;
                const loc = document.getElementById('filter-location').value;

                currentFilteredData = projectsWithIds.filter(item => {
                    const matchDev = dev === 'Any' || item.developer === dev;
                    const matchType = type === 'Any' || item.type === type;
                    const matchLoc = loc === 'Any' || item.location === loc;
                    return matchDev && matchType && matchLoc;
                });

                visibleCount = itemsPerPage;
                renderGrid();
            });

            loadMoreBtn.addEventListener('click', function (e) {
                e.preventDefault();
                visibleCount += itemsPerPage;
                renderGrid();
            });
        });
    </script>


    <button class="scroll-top">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 15l-6-6-6 6" />
        </svg>
    </button>
    <footer class="site-footer">
        <div class="footer-top">
            <div class="container text-center">
                <img src="assets/images/logo.png" alt="Dark Pearl" class="footer-logo-large">
                <p class="footer-mission">At Dark Pearl, we're dedicated to quickly delivering your best choice. Our
                    commitment goes beyond fast results, ensuring your investment is both efficient and beneficial. In a
                    world of ordinary opportunities, we're here to offer you the extraordinary.</p>
                <div class="footer-socials">
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-youtube"></i></a>
                    <a href="#"><i class="fab fa-linkedin-in"></i></a>
                </div>
            </div>
        </div>

        <div class="footer-main">
            <div class="container footer-grid">
                <div class="footer-col">
                    <h5>GET IN TOUCH</h5>
                    <div class="contact-details">
                        <p>306, 307, 308, 3rd Floor,<br>Bldg. 8, Bay Square,<br>Business Bay, Dubai, U.A.E</p>
                        <div class="contact-row">
                            <span class="contact-icon"><i class="fas fa-phone-alt"></i></span>
                            <span>+971 4 565 1717</span>
                        </div>
                        <div class="contact-row">
                            <span class="contact-icon"><i class="fas fa-envelope"></i></span>
                            <span>Hello@DarkPearl.ae</span>
                        </div>
                    </div>
                </div>

                <div class="footer-col">
                    <h5>USEFUL LINKS</h5>
                    <ul class="footer-links">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="developers.html">Developers</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="agents.html">Our Agents</a></li>
                        <li><a href="contact.html">Contact Us</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h5>DEVELOPERS</h5>
                    <ul class="footer-links">
                        <li><a href="properties.html?developer=Emaar">Emaar Properties</a></li>
                        <li><a href="properties.html?developer=DAMAC">Damac Properties</a></li>
                        <li><a href="properties.html?developer=Sobha Realty">Sobha Realty</a></li>
                        <li><a href="properties.html?developer=Select Group">Select Group</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h5>PROJECT TYPE</h5>
                    <ul class="footer-links">
                        <li><a href="properties.html?type=Villas">Villas</a></li>
                        <li><a href="properties.html?type=Apartments">Apartments</a></li>
                        <li><a href="properties.html?type=Townhouses">Townhouses</a></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="footer-bottom">
            <p>© 20025 – Dark Pearl. All rights reserved.</p>
        </div>
    </footer>

    <div class="floating-widgets">
        <a href="tel:+97145651717" class="widget-icon phone">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M20.01 15.38c-1.23 0-2.42-.2-3.53-.56a.977.977 0 00-1.01.24l-1.57 1.97c-2.83-1.44-5.15-3.75-6.59-6.59l1.97-1.57c.3-.3.4-.69.24-1.01a17.43 17.43 0 00-.56-3.53.995.995 0 00-1-.75h-3.3c-.55 0-1 .45-1 1C3.15 14.36 12.64 23.85 22 23.85c.55 0 1-.45 1-1v-3.3c0-.54-.44-.99-.99-1.17z" />
            </svg>
        </a>
        <a href="https://wa.me/97145651717" class="widget-icon whatsapp">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z" />
            </svg>
        </a>
        <a href="sms:+97145651717" class="widget-icon sms">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z" />
            </svg>
        </a>
    </div>

    <script>
        const menuToggle = document.querySelector('.mobile-menu-toggle');
        const mainNav = document.querySelector('.main-nav');

        menuToggle.addEventListener('click', () => {
            mainNav.classList.toggle('active');
            document.body.classList.toggle('menu-active');
        });

        const toggles = document.querySelectorAll('.mobile-toggle');
        toggles.forEach(toggle => {
            toggle.addEventListener('click', (e) => {
                if (window.innerWidth <= 900) {
                    e.preventDefault();
                    e.stopPropagation();
                    const parent = toggle.closest('.has-dropdown');

                    if (parent.classList.contains('active')) {
                        parent.classList.remove('active');
                    } else {
                        parent.classList.add('active');
                    }
                }
            });
        });
    </script>
    <script src="animations.js"></script>
</body>

</html>